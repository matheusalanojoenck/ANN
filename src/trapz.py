import math

def trapz(f, a, b, n):

    h = (b - a) / n
    soma = 0
    for k in range(1, n):
        soma += f(a + k * h)
    soma *= 2
    soma += (f(a) + f(b))
    soma *= (h/2)

    return soma

def f(x):
    return  math.exp(-x ** 2)

def g(x):
    return math.cos(x ** 2)


if __name__ == '__main__':

    # a = 0
    # b = 1
    # n = 10
    # r = trapz(f, a, b, n)
    # print(r)


    # intervalo = [-0.704, 0.513]
    # subintervalos = [1, 3, 7, 18, 42, 70, 129, 281, 507, 1042]
    # for i in range(len(subintervalos)):
    #     print(trapz(f, intervalo[0], intervalo[1], subintervalos[i]))

    x = [0.016, 0.061, 0.07, 0.296, 0.304, 0.362, 0.405, 0.43, 0.515, 0.535, 0.577, 0.654, 0.76, 0.861, 0.987, 1.011, 1.02, 1.029, 1.221, 1.298, 1.321, 1.333, 1.417, 1.461, 1.566, 1.673, 1.711, 1.864, 1.981, 2.019, 2.17, 2.196, 2.295, 2.375, 2.437, 2.503, 2.603, 2.713, 2.832, 2.913, 2.956, 3.34, 3.355, 3.372, 3.381, 3.408, 3.443, 3.517, 3.576, 3.605, 3.615, 3.673, 3.677, 3.738, 3.787, 3.953, 4.006, 4.14, 4.189, 4.457, 4.472, 4.55, 4.901, 4.966]
    y = [1.286, 1.42, 1.449, 2.236, 2.262, 2.443, 2.563, 2.626, 2.805, 2.839, 2.899, 2.971, 2.999, 2.963, 2.855, 2.829, 2.819, 2.809, 2.57, 2.473, 2.445, 2.43, 2.333, 2.286, 2.187, 2.107, 2.083, 2.018, 2.0, 2.0, 2.029, 2.038, 2.087, 2.14, 2.19, 2.25, 2.356, 2.487, 2.638, 2.74, 2.792, 2.975, 2.965, 2.952, 2.944, 2.916, 2.872, 2.745, 2.611, 2.536, 2.508, 2.336, 2.323, 2.121, 1.948, 1.377, 1.228, 1.009, 1.003, 1.756, 1.828, 2.218, 2.846, 2.587]

    soma = 0
    for i in range(len(x) - 1):
        def eq_reta(x_):
            m = (y[i+1] - y[i]) / (x[i+1] - x[i])
            n = y[i] - m * x[i]
            #print('m: ', m, ' | n: ', n)
            #print(f'({x[i]}, {y[i]}), ({x[i+1]}, {y[i+1]})')
            return m * x_ + n

        soma += trapz(eq_reta, x[i], x[i+1], 1)

    print(soma)

